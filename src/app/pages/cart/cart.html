<app-toolbar />

@if (!store.loading()) {
  <main class="container" style="display: flex; gap: 2rem;">
    <div class="container-left" style="flex: 3;">
      @if (store.cart()?.products?.length) {
        @for (item of store.cart()!.products; track item.id) {
          <app-cart-tile
            [title]="item.title"
            [price]="item.price"
            [img]="item.thumbnail"
            [link]="['/product', item.id]"
            >
            
          </app-cart-tile>
        }
      } @else {
        <p>Cart is empty.</p>
      }
    </div>

    <div class="container-right" style="flex: 1; border-left: 1px solid #ddd; padding-left: 1rem;">
      <h2>Order Summary</h2>
      <p>Total Products: {{ store.cart()?.totalProducts }}</p>
      <p>Total Quantity: {{ store.cart()?.totalQuantity }}</p>
      <p>Total Price: ${{ store.cart()?.total?.toFixed(2) }}</p>

      <button mat-fab extended class="container-top-right-buybutton" style="margin-top: 1rem;">
        <mat-icon>shopping_cart</mat-icon>
        Buy it now
      </button>
    </div>
  </main>
} @else {
  <div class="loading">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>
}
